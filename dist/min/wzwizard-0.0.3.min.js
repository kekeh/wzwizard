/* 
*  Name: wzwizard 
*  Description: Wizard - AngularJS reusable UI component 
*  Version: 0.0.3 
*  Author: kekeh 
*  Homepage: http://kekeh.github.io/wzwizard 
*  License: MIT 
*  Date: 2015-07-21 
*/ 
angular.module('template-wzwizard-0.0.3.html', ['templates/wzpage.html', 'templates/wzwizard.html']);

angular.module("templates/wzpage.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("templates/wzpage.html",
    "<div ng-show=\"visible\" ng-transclude></div>\n" +
    "");
}]);

angular.module("templates/wzwizard.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("templates/wzwizard.html",
    "<div class=\"wzwizard\">\n" +
    "    <div class=\"wzpages\">\n" +
    "        <div class=\"wzpage\" ng-repeat=\"p in wzpages\" ng-style=\"{'width': 100/wzpages.length + '%'}\" ng-class=\"{wzactive:p.visible}\">\n" +
    "            <span class=\"wztitletext\" ng-if=\"opt.showPageNumber\" style=\"margin-right:4px\">\n" +
    "                {{$index+1}}{{config.PAGE_NUMBER_SEPARATOR}}\n" +
    "            </span>\n" +
    "            <span class=\"wztitletext\">\n" +
    "                {{p.title}}\n" +
    "            </span>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "    <div ng-class=\"{'wzok':response.result,'wzerror':!response.result}\" ng-if=\"response.message!==undefined && response.message!==''\">\n" +
    "        {{response.message}}\n" +
    "        <span class=\"icon icon-cross\" ng-click=\"response.message=''\"></span>\n" +
    "    </div>\n" +
    "    \n" +
    "    <div class=\"wzcontent\" ng-transclude></div>\n" +
    "\n" +
    "    <div class=\"wzfooter\">\n" +
    "        <button class=\"wzfooterbtn\" ng-click=\"backBtnClicked()\" ng-if=\"visiblePageIdx>0\">\n" +
    "            {{opt.backBtnText}}\n" +
    "        </button>\n" +
    "        <button class=\"wzfooterbtn\" style=\"margin-left:4px\" ng-click=\"nextBtnClicked()\" ng-if=\"visiblePageIdx<wzpages.length-1\">\n" +
    "            {{opt.nextBtnText}}\n" +
    "        </button>\n" +
    "        <button class=\"wzfooterbtn\" style=\"margin-left:4px\" ng-click=\"acceptBtnClicked()\" ng-if=\"opt.acceptBtn.showAcceptBtn&&visiblePageIdx===wzpages.length-1\">\n" +
    "            {{opt.acceptBtn.acceptBtnText}}\n" +
    "        </button>\n" +
    "    </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("wzwizard",["template-wzwizard-0.0.3.html"]).constant("wzwizardConfig",{PAGE_NUMBER_SEPARATOR:"."}).directive("wzwizard",function(){return{restrict:"EA",templateUrl:"templates/wzwizard.html",transclude:!0,scope:{opt:"=options"},controller:["$scope","wzwizardConfig",function(a,b){a.config=b,a.wzpages=[],a.visiblePageIdx=0,a.response={result:!0,message:""},this.addPage=function(b){b.visible=0===a.wzpages.length?!0:!1,a.wzpages.push(b)}}],link:function(a,b,c){function d(){a.wzpages[a.visiblePageIdx--].visible=!1,a.wzpages[a.visiblePageIdx].visible=!0}function e(){a.wzpages[a.visiblePageIdx++].visible=!1,a.wzpages[a.visiblePageIdx].visible=!0}function f(){return a.opt.isPageDataValidCb?a.opt.isPageDataValidCb(a.visiblePageIdx):!0}function g(b,c){a.opt.pageChangedCb&&a.opt.pageChangedCb(b,c)}function h(){a.response={valid:!0,message:""}}a.backBtnClicked=function(){h(),d(),g(a.visiblePageIdx+1,a.visiblePageIdx)},a.nextBtnClicked=function(){a.response=f(),a.response.result&&(e(),g(a.visiblePageIdx-1,a.visiblePageIdx))},a.acceptBtnClicked=function(){if(a.opt.acceptBtn.acceptBtnCb){var b=a.opt.acceptBtn.acceptBtnCb();angular.isObject(b)&&(a.response=b)}}}}}).directive("wzpage",function(){return{require:"^wzwizard",restrict:"E",transclude:!0,scope:{},link:function(a,b,c,d){a.title=void 0!==c.title?c.title:"",d.addPage(a)},templateUrl:"templates/wzpage.html"}});